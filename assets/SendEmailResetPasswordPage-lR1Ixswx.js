import{d as c,E as f,e as x,g as t,x as k,h as s,w as y,v as w,n as h,i as u,F as E,j as $,k as _,s as F,q as R,o as a,t as S,B as V}from"./index-rJ-izXVI.js";import{_ as M}from"./undraw_mailbox_re_dvds-CkVLSW1R.js";import{c as v,r as j,e as q,u as C}from"./index-BhA9_jAP.js";const N={class:"h-screen grid place-items-center"},B={class:"form-group"},P={key:0},T={type:"submit",class:"btn btn-primary"},D={key:0},z={key:1,class:"sk-chase w-8 h-8 mx-auto"},H={key:1,class:"bg-white shadow p-8 max-w-4xl text-center mx-8"},I={class:"text-slate-700"},G={__name:"SendEmailResetPasswordPage",setup(O){const i=c(""),d=c(!0),n=c(!1),m=f("inputEmail"),g={emailForm:{$autoDirty:!0,required:v.withMessage("Este campo es obligatorio",j),email:v.withMessage("Correo electrónico inválido",q)}},o=C(g,{emailForm:i}),p=x.useToast(),b=async()=>{if(o.value.$touch(),!o.value.$invalid)try{n.value=!0;const{status:l,data:e}=await V.post("/auth/send-password-reset-instructions",{email:i.value});if(l!==200)return;p.open({message:e.message,type:"success",duration:4e3,pauseOnHover:!0}),d.value=!1,n.value=!1}catch(l){n.value=!1;const e=l.response.data.message;m.value.focus(),p.open({message:e,type:"error",duration:4e3,pauseOnHover:!0})}};return(l,e)=>(a(),t("div",N,[d.value?(a(),t("form",{key:0,class:"grid gap-8 mx-8 bg-white shadow p-8 rounded-sm md:w-1/2 lg:w-1/4",onSubmit:k(b,["prevent"])},[e[4]||(e[4]=s("div",{class:"grid gap-4"},[s("h1",{class:"text-4xl text-slate-800 font-semibold"},"Recuperar contraseña"),s("p",{class:"text-slate-700"}," Ingresa tu correo electrónico para que te enviemos las instrucciones de cómo restablecer tu contraseña. Recibirás un enlace para crear una nueva contraseña que será válido por 15 minutos. ")],-1)),s("div",B,[e[2]||(e[2]=s("label",{for:"email"},"Correo electrónico:",-1)),y(s("input",{type:"email",class:h(["form-control",{"form-control--error":u(o).emailForm.$error}]),placeholder:"janedoe@outlook.com","onUpdate:modelValue":e[0]||(e[0]=r=>i.value=r),ref_key:"inputEmail",ref:m,id:"email"},null,2),[[w,i.value]]),u(o).emailForm.$error?(a(),t("span",P,[(a(!0),t(E,null,$(u(o).emailForm.$errors,r=>(a(),t("p",{key:r.$uid,class:"text-error"},S(r.$message),1))),128))])):_("",!0)]),s("button",T,[n.value?(a(),t("div",z,e[3]||(e[3]=[F('<div class="sk-chase-dot"></div><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div>',6)]))):(a(),t("span",D," Enviar instrucciones "))])],32)):(a(),t("div",H,[e[6]||(e[6]=s("img",{src:M,alt:"Mailbox",class:"size-60 mx-auto mb-4"},null,-1)),e[7]||(e[7]=s("h1",{class:"text-3xl text-slate-900 font-semibold mb-3"},"Revisa tu bandeja de entrada",-1)),e[8]||(e[8]=s("p",{class:"text-slate-700 mb-12"}," En unos momentos recibirás un correo con las instrucciones para restablecer tu contraseña. Si no lo ves en tu bandeja de entrada, revisa también la carpeta de spam o correo no deseado. ",-1)),s("p",I,[e[5]||(e[5]=R(" ¿No recibiste ningún correo electrónico?, revisa tu bandeja de spam o ")),s("span",{class:"text-link cursor-pointer",onClick:e[1]||(e[1]=r=>d.value=!0)},"intenta con otro correo electrónico")])]))]))}};export{G as default};
