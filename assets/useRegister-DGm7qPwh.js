import{m as xe,p as O,q as Ee,s as q,x as U,y as T,z as je,A as w,B as Pe,C as Ce,u as m,D as ee,E as te,G as re,H as Ve,I as ae}from"./index-t55ouYIW.js";import{o as B}from"./olympusAPI-Dwh3OM0h.js";function ne(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,t)}return r}function z(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?ne(Object(r),!0).forEach(function(t){Ae(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ae(e,a,r){return a in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function se(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(e).reduce((r,t)=>(a.includes(t)||(r[t]=m(e[t])),r),{})}function W(e){return typeof e=="function"}function ze(e){return Pe(e)||Ce(e)}function fe(e,a,r){let t=e;const s=a.split(".");for(let i=0;i<s.length;i++){if(!t[s[i]])return r;t=t[s[i]]}return t}function Z(e,a,r){return w(()=>e.some(t=>fe(a,t,{[r]:!1})[r]))}function oe(e,a,r){return w(()=>e.reduce((t,s)=>{const i=fe(a,s,{[r]:!1})[r]||[];return t.concat(i)},[]))}function me(e,a,r,t){return e.call(t,m(a),m(r),t)}function pe(e){return e.$valid!==void 0?!e.$valid:!e}function _e(e,a,r,t,s,i,v){let{$lazy:c,$rewardEarly:f}=s,o=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],p=arguments.length>8?arguments[8]:void 0,d=arguments.length>9?arguments[9]:void 0,g=arguments.length>10?arguments[10]:void 0;const $=O(!!t.value),n=O(0);r.value=!1;const u=q([a,t].concat(o,g),()=>{if(c&&!t.value||f&&!d.value&&!r.value)return;let l;try{l=me(e,a,p,v)}catch(h){l=Promise.reject(h)}n.value++,r.value=!!n.value,$.value=!1,Promise.resolve(l).then(h=>{n.value--,r.value=!!n.value,i.value=h,$.value=pe(h)}).catch(h=>{n.value--,r.value=!!n.value,i.value=h,$.value=!0})},{immediate:!0,deep:typeof a=="object"});return{$invalid:$,$unwatch:u}}function Se(e,a,r,t,s,i,v,c){let{$lazy:f,$rewardEarly:o}=t;const p=()=>({}),d=w(()=>{if(f&&!r.value||o&&!c.value)return!1;let g=!0;try{const $=me(e,a,v,i);s.value=$,g=pe($)}catch($){s.value=$}return g});return{$unwatch:p,$invalid:d}}function Le(e,a,r,t,s,i,v,c,f,o,p){const d=O(!1),g=e.$params||{},$=O(null);let n,u;e.$async?{$invalid:n,$unwatch:u}=_e(e.$validator,a,d,r,t,$,s,e.$watchTargets,f,o,p):{$invalid:n,$unwatch:u}=Se(e.$validator,a,r,t,$,s,f,o);const l=e.$message;return{$message:W(l)?w(()=>l(se({$pending:d,$invalid:n,$params:se(g),$model:a,$response:$,$validator:i,$propertyPath:c,$property:v}))):l||"",$params:g,$pending:d,$invalid:n,$response:$,$unwatch:u}}function Me(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const a=m(e),r=Object.keys(a),t={},s={},i={};let v=null;return r.forEach(c=>{const f=a[c];switch(!0){case W(f.$validator):t[c]=f;break;case W(f):t[c]={$validator:f};break;case c==="$validationGroups":v=f;break;case c.startsWith("$"):i[c]=f;break;default:s[c]=f}}),{rules:t,nestedValidators:s,config:i,validationGroups:v}}const De="__root";function Ie(e,a,r,t,s,i,v,c,f){const o=Object.keys(e),p=t.get(s,e),d=O(!1),g=O(!1),$=O(0);if(p){if(!p.$partial)return p;p.$unwatch(),d.value=p.$dirty.value}const n={$dirty:d,$path:s,$touch:()=>{d.value||(d.value=!0)},$reset:()=>{d.value&&(d.value=!1)},$commit:()=>{}};return o.length?(o.forEach(u=>{n[u]=Le(e[u],a,n.$dirty,i,v,u,r,s,f,g,$)}),n.$externalResults=w(()=>c.value?[].concat(c.value).map((u,l)=>({$propertyPath:s,$property:r,$validator:"$externalResults",$uid:`${s}-externalResult-${l}`,$message:u,$params:{},$response:null,$pending:!1})):[]),n.$invalid=w(()=>{const u=o.some(l=>m(n[l].$invalid));return g.value=u,!!n.$externalResults.value.length||u}),n.$pending=w(()=>o.some(u=>m(n[u].$pending))),n.$error=w(()=>n.$dirty.value?n.$pending.value||n.$invalid.value:!1),n.$silentErrors=w(()=>o.filter(u=>m(n[u].$invalid)).map(u=>{const l=n[u];return T({$propertyPath:s,$property:r,$validator:u,$uid:`${s}-${u}`,$message:l.$message,$params:l.$params,$response:l.$response,$pending:l.$pending})}).concat(n.$externalResults.value)),n.$errors=w(()=>n.$dirty.value?n.$silentErrors.value:[]),n.$unwatch=()=>o.forEach(u=>{n[u].$unwatch()}),n.$commit=()=>{g.value=!0,$.value=Date.now()},t.set(s,e,n),n):(p&&t.set(s,e,n),n)}function qe(e,a,r,t,s,i,v){const c=Object.keys(e);return c.length?c.reduce((f,o)=>(f[o]=K({validations:e[o],state:a,key:o,parentKey:r,resultsCache:t,globalConfig:s,instance:i,externalResults:v}),f),{}):{}}function Te(e,a,r){const t=w(()=>[a,r].filter(n=>n).reduce((n,u)=>n.concat(Object.values(m(u))),[])),s=w({get(){return e.$dirty.value||(t.value.length?t.value.every(n=>n.$dirty):!1)},set(n){e.$dirty.value=n}}),i=w(()=>{const n=m(e.$silentErrors)||[],u=t.value.filter(l=>(m(l).$silentErrors||[]).length).reduce((l,h)=>l.concat(...h.$silentErrors),[]);return n.concat(u)}),v=w(()=>{const n=m(e.$errors)||[],u=t.value.filter(l=>(m(l).$errors||[]).length).reduce((l,h)=>l.concat(...h.$errors),[]);return n.concat(u)}),c=w(()=>t.value.some(n=>n.$invalid)||m(e.$invalid)||!1),f=w(()=>t.value.some(n=>m(n.$pending))||m(e.$pending)||!1),o=w(()=>t.value.some(n=>n.$dirty)||t.value.some(n=>n.$anyDirty)||s.value),p=w(()=>s.value?f.value||c.value:!1),d=()=>{e.$touch(),t.value.forEach(n=>{n.$touch()})},g=()=>{e.$commit(),t.value.forEach(n=>{n.$commit()})},$=()=>{e.$reset(),t.value.forEach(n=>{n.$reset()})};return t.value.length&&t.value.every(n=>n.$dirty)&&d(),{$dirty:s,$errors:v,$invalid:c,$anyDirty:o,$error:p,$pending:f,$touch:d,$reset:$,$silentErrors:i,$commit:g}}function K(e){let{validations:a,state:r,key:t,parentKey:s,childResults:i,resultsCache:v,globalConfig:c={},instance:f,externalResults:o}=e;const p=s?`${s}.${t}`:t,{rules:d,nestedValidators:g,config:$,validationGroups:n}=Me(a),u=z(z({},c),$),l=t?w(()=>{const y=m(r);return y?m(y[t]):void 0}):r,h=z({},m(o)||{}),P=w(()=>{const y=m(o);return t?y?m(y[t]):void 0:y}),D=Ie(d,l,t,v,p,u,f,P,r),j=qe(g,l,p,v,u,f,P),V={};n&&Object.entries(n).forEach(y=>{let[S,A]=y;V[S]={$invalid:Z(A,j,"$invalid"),$error:Z(A,j,"$error"),$pending:Z(A,j,"$pending"),$errors:oe(A,j,"$errors"),$silentErrors:oe(A,j,"$silentErrors")}});const{$dirty:C,$errors:M,$invalid:k,$anyDirty:X,$error:b,$pending:x,$touch:E,$reset:I,$silentErrors:we,$commit:Y}=Te(D,j,i),ye=t?w({get:()=>m(l),set:y=>{C.value=!0;const S=m(r),A=m(o);A&&(A[t]=h[t]),U(S[t])?S[t].value=y:S[t]=y}}):null;t&&u.$autoDirty&&q(l,()=>{C.value||E();const y=m(o);y&&(y[t]=h[t])},{flush:"sync"});async function be(){return E(),u.$rewardEarly&&(Y(),await re()),await re(),new Promise(y=>{if(!x.value)return y(!k.value);const S=q(x,()=>{y(!k.value),S()})})}function Oe(y){return(i.value||{})[y]}function Re(){U(o)?o.value=h:Object.keys(h).length===0?Object.keys(o).forEach(y=>{delete o[y]}):Object.assign(o,h)}return T(z(z(z({},D),{},{$model:ye,$dirty:C,$error:b,$errors:M,$invalid:k,$anyDirty:X,$pending:x,$touch:E,$reset:I,$path:p||De,$silentErrors:we,$validate:be,$commit:Y},i&&{$getResultsForChild:Oe,$clearExternalResults:Re,$validationGroups:V}),j))}class Fe{constructor(){this.storage=new Map}set(a,r,t){this.storage.set(a,{rules:r,result:t})}checkRulesValidity(a,r,t){const s=Object.keys(t),i=Object.keys(r);return i.length!==s.length||!i.every(c=>s.includes(c))?!1:i.every(c=>r[c].$params?Object.keys(r[c].$params).every(f=>m(t[c].$params[f])===m(r[c].$params[f])):!0)}get(a,r){const t=this.storage.get(a);if(!t)return;const{rules:s,result:i}=t,v=this.checkRulesValidity(a,r,s),c=i.$unwatch?i.$unwatch:()=>({});return v?i:{$dirty:i.$dirty,$partial:!0,$unwatch:c}}}const N={COLLECT_ALL:!0,COLLECT_NONE:!1},ie=Symbol("vuelidate#injectChildResults"),ue=Symbol("vuelidate#removeChildResults");function ke(e){let{$scope:a,instance:r}=e;const t={},s=O([]),i=w(()=>s.value.reduce((p,d)=>(p[d]=m(t[d]),p),{}));function v(p,d){let{$registerAs:g,$scope:$,$stopPropagation:n}=d;n||a===N.COLLECT_NONE||$===N.COLLECT_NONE||a!==N.COLLECT_ALL&&a!==$||(t[g]=p,s.value.push(g))}r.__vuelidateInjectInstances=[].concat(r.__vuelidateInjectInstances||[],v);function c(p){s.value=s.value.filter(d=>d!==p),delete t[p]}r.__vuelidateRemoveInstances=[].concat(r.__vuelidateRemoveInstances||[],c);const f=ee(ie,[]);te(ie,r.__vuelidateInjectInstances);const o=ee(ue,[]);return te(ue,r.__vuelidateRemoveInstances),{childResults:i,sendValidationResultsToParent:f,removeValidationResultsFromParent:o}}function ve(e){return new Proxy(e,{get(a,r){return typeof a[r]=="object"?ve(a[r]):w(()=>a[r])}})}let le=0;function ce(e,a){var r;let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(t=e,e=void 0,a=void 0);let{$registerAs:s,$scope:i=N.COLLECT_ALL,$stopPropagation:v,$externalResults:c,currentVueInstance:f}=t;const o=f||((r=xe())===null||r===void 0?void 0:r.proxy),p=o?o.$options:{};s||(le+=1,s=`_vuelidate_${le}`);const d=O({}),g=new Fe,{childResults:$,sendValidationResultsToParent:n,removeValidationResultsFromParent:u}=o?ke({$scope:i,instance:o}):{childResults:O({})};if(!e&&p.validations){const l=p.validations;a=O({}),Ee(()=>{a.value=o,q(()=>W(l)?l.call(a.value,new ve(a.value)):l,h=>{d.value=K({validations:h,state:a,childResults:$,resultsCache:g,globalConfig:t,instance:o,externalResults:c||o.vuelidateExternalResults})},{immediate:!0})}),t=p.validationsConfig||t}else{const l=U(e)||ze(e)?e:T(e||{});q(l,h=>{d.value=K({validations:h,state:a,childResults:$,resultsCache:g,globalConfig:t,instance:o??{},externalResults:c})},{immediate:!0})}return o&&(n.forEach(l=>l(d,{$registerAs:s,$scope:i,$stopPropagation:v})),je(()=>u.forEach(l=>l(s)))),w(()=>z(z({},m(d.value)),$.value))}function de(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,t)}return r}function F(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?de(Object(r),!0).forEach(function(t){Ne(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ne(e,a,r){return a in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function G(e){return typeof e=="function"}function J(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function H(e){return G(e.$validator)?F({},e):{$validator:e}}function ge(e){return typeof e=="object"?e.$valid:e}function he(e){return e.$validator||e}function We(e,a){if(!J(e))throw new Error(`[@vuelidate/validators]: First parameter to "withParams" should be an object, provided ${typeof e}`);if(!J(a)&&!G(a))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const r=H(a);return r.$params=F(F({},r.$params||{}),e),r}function Ge(e,a){if(!G(e)&&typeof m(e)!="string")throw new Error(`[@vuelidate/validators]: First parameter to "withMessage" should be string or a function returning a string, provided ${typeof e}`);if(!J(a)&&!G(a))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const r=H(a);return r.$message=e,r}function He(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=H(e);return F(F({},r),{},{$async:!0,$watchTargets:a})}function Be(e){return{$validator(a){for(var r=arguments.length,t=new Array(r>1?r-1:0),s=1;s<r;s++)t[s-1]=arguments[s];return m(a).reduce((i,v,c)=>{const f=Object.entries(v).reduce((o,p)=>{let[d,g]=p;const $=e[d]||{},n=Object.entries($).reduce((u,l)=>{let[h,P]=l;const j=he(P).call(this,g,v,c,...t),V=ge(j);if(u.$data[h]=j,u.$data.$invalid=!V||!!u.$data.$invalid,u.$data.$error=u.$data.$invalid,!V){let C=P.$message||"";const M=P.$params||{};typeof C=="function"&&(C=C({$pending:!1,$invalid:!V,$params:M,$model:g,$response:j})),u.$errors.push({$property:d,$message:C,$params:M,$response:j,$model:g,$pending:!1,$validator:h})}return{$valid:u.$valid&&V,$data:u.$data,$errors:u.$errors}},{$valid:!0,$data:{},$errors:[]});return o.$data[d]=n.$data,o.$errors[d]=n.$errors,{$valid:o.$valid&&n.$valid,$data:o.$data,$errors:o.$errors}},{$valid:!0,$data:{},$errors:{}});return{$valid:i.$valid&&f.$valid,$data:i.$data.concat(f.$data),$errors:i.$errors.concat(f.$errors)}},{$valid:!0,$data:[],$errors:[]})},$message:a=>{let{$response:r}=a;return r?r.$errors.map(t=>Object.values(t).map(s=>s.map(i=>i.$message)).reduce((s,i)=>s.concat(i),[])):[]}}}const Q=e=>{if(e=m(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let a in e)return!0;return!1}return!!String(e).length},Ze=e=>(e=m(e),Array.isArray(e)?e.length:typeof e=="object"?Object.keys(e).length:String(e).length);function _(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=>(t=m(t),!Q(t)||a.every(s=>(s.lastIndex=0,s.test(t))))}var R=Object.freeze({__proto__:null,forEach:Be,len:Ze,normalizeValidatorObject:H,regex:_,req:Q,unwrap:m,unwrapNormalizedValidator:he,unwrapValidatorResponse:ge,withAsync:He,withMessage:Ge,withParams:We});_(/^[a-zA-Z]*$/);_(/^[a-zA-Z0-9]*$/);var Ue=_(/^\d*(\.\d+)?$/),Ke={$validator:Ue,$message:"Value must be numeric",$params:{type:"numeric"}};const Je=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var Qe=_(Je),$e={$validator:Qe,$message:"Value is not a valid email address",$params:{type:"email"}};function Xe(e){return typeof e=="string"&&(e=e.trim()),Q(e)}var L={$validator:Xe,$message:"Value is required",$params:{type:"required"}};function Ye(e){return a=>m(a)===m(e)}function et(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"other";return{$validator:Ye(e),$message:r=>`The value must be equal to the ${a} value`,$params:{equalTo:e,otherName:a,type:"sameAs"}}}const tt=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;_(tt);_(/(^[0-9]*$)|(^-[0-9]+$)/);_(/^[-]?\d*(\.\d+)?$/);const nt=()=>{const e=R.regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_])[A-Za-z\d\W_]{12,}$/),a=R.regex(/^[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]+$/),r=b=>!p.includes(b),t=O(!1),s=O(!1),i=O(""),v=O(0),c=O(!0),f=O(!1),o=O(0),p=["123456","123456789","qwerty","password","12345","12345678","111111","123123","abc123","password1","1234","000000","iloveyou","123","monkey","dragon","letmein","princess","qwertyuiop","admin","welcome","login","passw0rd","1q2w3e4r","starwars","football","123qwe","1qaz2wsx","sunshine","666666","654321","superman","asdfghjkl","qazwsx","michael","hunter","trustno1","freedom","whatever","letmein123","batman123@uthhA","jordan23"],d=O({lowercaseUppercase:!1,number:!1,specialChar:!1,minLength:!1}),g=T({email:"",password:""}),$=T({name:"Diego Vite",phone:"7713400653",emailR:"jekofel661@rowplant.com",password:"Masterv123@1",confirmPassword:"Masterv123@1"}),n={name:{$autoDirty:!0,required:R.withMessage("Este campo es obligatorio",L),alphaWithSpaces:R.withMessage("Solo debe de contener letras",a)},phone:{$autoDirty:!0,required:R.withMessage("Este campo es obligatorio",L),numeric:R.withMessage("Solo se permiten números",Ke)},emailR:{$autoDirty:!0,required:R.withMessage("Este campo es obligatorio",L),email:R.withMessage("Debe ser un email válido",$e)},password:{$autoDirty:!0,required:R.withMessage("Este campo es obligatorio",L),passwordRegex:R.withMessage("No cumple con los requisitos mínimos",e),isPasswordWeak:R.withMessage("Contraseña altamente débil.",r)},confirmPassword:{$autoDirty:!0,required:R.withMessage("Este campo es obligatorio",L),sameAs:R.withMessage("Las contraseñas no coinciden",et(w(()=>$.password)))}},u={email:{$autoDirty:!0,required:R.withMessage("Este campo es obligatorio",L),email:R.withMessage("Correo electrónico inválido",$e)},password:{$autoDirty:!0,required:R.withMessage("Este campo es obligatorio",L)}},l=Ve.useToast(),h=ce(n,$),P=ce(u,g),D=()=>{const b=$.password;d.value.lowercaseUppercase=/[a-z]/.test(b)&&/[A-Z]/.test(b),d.value.number=/\d/.test(b),d.value.specialChar=/[!@#$%^&*]/.test(b),d.value.minLength=b.length>=12;const x=Object.values(d.value).filter(Boolean).length;v.value=x/4*100},j=()=>{s.value=!s.value},V=async()=>{if(!(!$.password||$.password.length<12||h.value.password.$error))try{const x=(await B.post("/check-pswd",{password:$.password})).data==="Comprometida";i.value=x?"Contraseña comprometida, por favor utiliza otra.":""}catch(b){console.error("Error verificando la contraseña:",b),i.value="Error verificando la contraseña"}},C=w(()=>{const b=Math.floor(o.value),x=Math.floor(b/60),E=b%60;return`${x}:${E<10?"0"+E:E}`}),M=()=>{const b=setInterval(()=>{o.value>0?o.value--:(clearInterval(b),f.value=!1)},1e3)};return{loginData:g,formRegister:$,strengthPercent:v,checks:d,isPasswordVisible:s,isLoading:t,isCaptchaVerified:c,passwordStatus:i,isLocked:f,v$:h,v$Login:P,formattedTime:C,togglePasswordVisibility:j,checkPasswordStrength:D,checkPassword:V,onRegister:async()=>{if(h.value.$touch(),!h.value.$invalid)try{if(t.value=!0,(await B.post("/register",{nombre:$.name,email:$.emailR,telefono:$.phone,password:$.password})).status!=201)throw new Error;t.value=!1,l.open({message:"Usuario creado correctamente! 🎉🎉🎉",type:"success",duration:4e3,pauseOnHover:!0,queue:!0}),setTimeout(()=>{l.open({message:"Ahora puedes iniciar sesión",type:"info",duration:4e3,pauseOnHover:!0}),ae.replace({name:"inicio-sesion"})},2e3)}catch(x){t.value=!1;const E=x.response.data.message;l.open({message:`${E}`,type:"error",duration:6e3,pauseOnHover:!0,queue:!0})}},onLogin:async()=>{if(P.value.$touch(),P.value.$invalid)return;const x=await grecaptcha.getResponse();if(!x)return c.value=!1;try{t.value=!0,c.value=!0;const{data:E}=await B.post("/login",{email:g.email,password:g.password,tokenCaptcha:x});t.value=!1,localStorage.setItem("token",E.token);const I=localStorage.getItem("last-path")??"/";ae.replace(I),l.open({message:"Bienvenido de nuevo! 👋🏽👋🏽👋🏽",type:"success",duration:4e3,pauseOnHover:!0})}catch(E){t.value=!1,grecaptcha.reset();const I=E.response.data.message;E.response.status===403&&!f.value&&(o.value=E.response.data.timeRemaining,M(),f.value=!0),l.open({message:`${I}`,type:"error",duration:4e3,pauseOnHover:!0,queue:!0})}}}};export{nt as u};
