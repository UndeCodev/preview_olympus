import{e as h,c as r,a as t,f as v,v as C,u as e,n as g,F as k,g as f,h as d,i as V,t as l,d as p,j as $,b as L,w as T,k as M,r as N,o as a}from"./index-CLG65kc_.js";import{u as D}from"./useRegister-D0MmLxZ-.js";import{C as E}from"./olympusAPI-Dwh3OM0h.js";const P={class:"form-group grid gap-3"},R={key:0},S={class:"form-group grid gap-3"},q={class:"password-container"},A=["type"],B={key:0},I={key:0},j={class:"text-center text-error"},F={class:"recaptcha"},U={key:0,class:"text-error"},z={class:"btn btn-primary"},H={key:0},K={key:1,class:"sk-chase w-8 h-8 mx-auto"},O={class:"grid text-center"},X={__name:"LoginView",setup(Y){h(()=>{window.grecaptcha.render("recaptcha",{sitekey:E,"expired-callback":()=>{console.log("Expirado")}})});const{v$Login:i,loginData:n,isCaptchaVerified:w,isPasswordVisible:u,isLoading:x,isLocked:b,formattedTime:y,togglePasswordVisibility:m,onLogin:c}=D();return(G,s)=>{const _=N("RouterLink");return a(),r("form",{onSubmit:s[3]||(s[3]=M((...o)=>e(c)&&e(c)(...o),["prevent"])),class:"form bg-white rounded-sm shadow-sm p-6"},[s[12]||(s[12]=t("h1",{class:"text-center text-4xl"},"Iniciar sesión",-1)),t("div",P,[s[4]||(s[4]=t("label",{for:"email"},"Correo electrónico:",-1)),v(t("input",{type:"text",placeholder:"janedoe@outlook.com",class:g(["form-control",{"form-control--error":e(i).email.$error}]),id:"email","onUpdate:modelValue":s[0]||(s[0]=o=>e(n).email=o)},null,2),[[C,e(n).email,void 0,{trim:!0}]]),e(i).email.$error?(a(),r("span",R,[(a(!0),r(k,null,f(e(i).email.$errors,o=>(a(),r("p",{key:o.$uid,class:"text-error"},l(o.$message),1))),128))])):d("",!0)]),t("div",S,[s[5]||(s[5]=t("label",{for:"password"},"Contraseña:",-1)),t("div",q,[v(t("input",{type:e(u)?"text":"password",placeholder:"**********",class:g(["form-control",{"form-control--error":e(i).password.$error}]),id:"password","onUpdate:modelValue":s[1]||(s[1]=o=>e(n).password=o)},null,10,A),[[V,e(n).password]]),t("button",{type:"button",onClick:s[2]||(s[2]=(...o)=>e(m)&&e(m)(...o)),class:"toggle-btn"},l(e(u)?"Ocultar":"Mostrar"),1)]),e(i).password.$error?(a(),r("span",B,[(a(!0),r(k,null,f(e(i).password.$errors,o=>(a(),r("p",{key:o.$uid,class:"text-error"},l(o.$message),1))),128))])):d("",!0)]),e(b)?(a(),r("div",I,[t("p",j,[s[6]||(s[6]=p(" Cuenta bloqueada temporalmente. ")),s[7]||(s[7]=t("br",null,null,-1)),p(" Tiempo restante: "+l(e(y)),1)])])):d("",!0),t("div",F,[s[8]||(s[8]=t("div",{class:"recaptcha",id:"recaptcha"},null,-1)),e(w)?d("",!0):(a(),r("p",U,"Por favor, verifica que no eres un robot."))]),t("button",z,[e(x)?(a(),r("div",K,s[9]||(s[9]=[$('<div class="sk-chase-dot"></div><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div>',6)]))):(a(),r("span",H,"Iniciar sesión"))]),t("span",O,[s[11]||(s[11]=p("¿Aún no tienes una cuenta? ")),L(_,{class:"text-link",to:{name:"registro"}},{default:T(()=>s[10]||(s[10]=[p("Registrate aquí")])),_:1})])],32)}}};export{X as default};
