import{f as u,E as w,g as y,a as t,x as h,i as v,w as E,b as s,j as _,v as $,n as R,k as d,F,l as V,m as C,s as S,q as f,r as M,o as a,D as N,t as j,B as q}from"./index-BA70g2yz.js";import{_ as B}from"./undraw_mailbox_re_dvds-CkVLSW1R.js";import{c as b,r as D,e as P,u as T}from"./index-BGm0Do8Y.js";const z={class:"h-screen grid place-items-center"},L={class:"form-group"},H={key:0},I={type:"submit",class:"btn btn-primary"},O={key:0},A={key:1,class:"sk-chase w-8 h-8 mx-auto"},U={key:1,class:"bg-white shadow p-8 max-w-4xl text-center mx-8"},G={class:"text-slate-700"},X={__name:"SendEmailResetPasswordPage",setup(J){const i=u(""),c=u(!0),n=u(!1),m=w("inputEmail"),g={emailForm:{$autoDirty:!0,required:b.withMessage("Este campo es obligatorio",D),email:b.withMessage("Correo electrónico inválido",P)}},o=T(g,{emailForm:i}),p=y.useToast(),x=async()=>{if(o.value.$touch(),!o.value.$invalid)try{n.value=!0;const{status:l,data:e}=await q.post("/auth/send-password-reset-instructions",{email:i.value});if(l!==200)return;p.open({message:e.message,type:"success",duration:4e3,pauseOnHover:!0}),c.value=!1,n.value=!1}catch(l){n.value=!1;const e=l.response.data.message;m.value.focus(),p.open({message:e,type:"error",duration:4e3,pauseOnHover:!0})}};return(l,e)=>{const k=M("RouterLink");return a(),t("div",z,[c.value?(a(),t("form",{key:0,class:"grid gap-8 mx-8 bg-white shadow p-8 rounded-sm md:w-1/2 lg:w-1/4",onSubmit:h(x,["prevent"])},[v(k,{class:"btn btn-outline place-self-start",to:{name:"inicio-sesion"}},{default:E(()=>[v(d(N),{class:"size-8"}),e[2]||(e[2]=f(" Regresar "))]),_:1}),e[5]||(e[5]=s("div",{class:"grid gap-4"},[s("h1",{class:"text-4xl text-slate-800 font-semibold"},"Recuperar contraseña"),s("p",{class:"text-slate-700"}," Ingresa tu correo electrónico para que te enviemos las instrucciones de cómo restablecer tu contraseña. ")],-1)),s("div",L,[e[3]||(e[3]=s("label",{for:"email"},"Correo electrónico:",-1)),_(s("input",{type:"email",class:R(["form-control",{"form-control--error":d(o).emailForm.$error}]),placeholder:"janedoe@outlook.com","onUpdate:modelValue":e[0]||(e[0]=r=>i.value=r),ref_key:"inputEmail",ref:m,id:"email"},null,2),[[$,i.value]]),d(o).emailForm.$error?(a(),t("span",H,[(a(!0),t(F,null,V(d(o).emailForm.$errors,r=>(a(),t("p",{key:r.$uid,class:"text-error"},j(r.$message),1))),128))])):C("",!0)]),s("button",I,[n.value?(a(),t("div",A,e[4]||(e[4]=[S('<div class="sk-chase-dot"></div><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div>',6)]))):(a(),t("span",O," Enviar instrucciones "))])],32)):(a(),t("div",U,[e[7]||(e[7]=s("img",{src:B,alt:"Mailbox",class:"size-60 mx-auto mb-4"},null,-1)),e[8]||(e[8]=s("h1",{class:"text-3xl text-slate-900 font-semibold mb-3"},"Revisa tu bandeja de entrada",-1)),e[9]||(e[9]=s("p",{class:"text-slate-700 mb-12"}," En unos momentos recibirás un correo con las instrucciones para restablecer tu contraseña. Si no lo ves en tu bandeja de entrada, revisa también la carpeta de spam o correo no deseado. ",-1)),s("p",G,[e[6]||(e[6]=f(" ¿No recibiste ningún correo electrónico?, revisa tu bandeja de spam o ")),s("span",{class:"text-link cursor-pointer",onClick:e[1]||(e[1]=r=>c.value=!0)},"intenta con otro correo electrónico")])]))])}}};export{X as default};
