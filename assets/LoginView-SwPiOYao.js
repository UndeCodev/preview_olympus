import{e as $,f as C,c as r,a as t,t as n,u as e,g,v as V,n as v,F as k,h as f,i as l,j as L,d as p,k as A,b as S,w as T,l as M,r as N,o as a}from"./index-B0ngy5Xi.js";import{u as z}from"./useRegister-DCtufrvk.js";import{C as D}from"./olympusAPI-Dwh3OM0h.js";const E=$("auth",()=>(helpers.regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_])[A-Za-z\d\W_]{12,}$/),helpers.regex(/^[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]+$/),{test})),P={class:"form-group grid gap-3"},R={for:"email"},q={key:0},B={class:"form-group grid gap-3"},I={class:"password-container"},Z=["type"],j={key:0},F={key:0},U={class:"text-center text-error"},W={class:"recaptcha"},H={key:0,class:"text-error"},K={class:"btn btn-primary"},O={key:0},Y={key:1,class:"sk-chase w-8 h-8 mx-auto"},G={class:"grid text-center"},ts={__name:"LoginView",setup(J){C(()=>{window.grecaptcha.render("recaptcha",{sitekey:D,"expired-callback":()=>{console.log("Expirado")}})});const x=E(),{v$Login:i,loginData:d,isCaptchaVerified:w,isPasswordVisible:u,isLoading:_,isLocked:h,formattedTime:b,togglePasswordVisibility:c,onLogin:m}=z();return(Q,s)=>{const y=N("RouterLink");return a(),r("form",{onSubmit:s[3]||(s[3]=M((...o)=>e(m)&&e(m)(...o),["prevent"])),class:"form bg-white rounded-sm shadow-sm p-6"},[s[11]||(s[11]=t("h1",{class:"text-center text-4xl"},"Iniciar sesión",-1)),t("div",P,[t("label",R,"Correo electrónico: "+n(e(x).test),1),g(t("input",{type:"text",placeholder:"janedoe@outlook.com",class:v(["form-control",{"form-control--error":e(i).email.$error}]),id:"email","onUpdate:modelValue":s[0]||(s[0]=o=>e(d).email=o)},null,2),[[V,e(d).email,void 0,{trim:!0}]]),e(i).email.$error?(a(),r("span",q,[(a(!0),r(k,null,f(e(i).email.$errors,o=>(a(),r("p",{key:o.$uid,class:"text-error"},n(o.$message),1))),128))])):l("",!0)]),t("div",B,[s[4]||(s[4]=t("label",{for:"password"},"Contraseña:",-1)),t("div",I,[g(t("input",{type:e(u)?"text":"password",placeholder:"**********",class:v(["form-control",{"form-control--error":e(i).password.$error}]),id:"password","onUpdate:modelValue":s[1]||(s[1]=o=>e(d).password=o)},null,10,Z),[[L,e(d).password]]),t("button",{type:"button",onClick:s[2]||(s[2]=(...o)=>e(c)&&e(c)(...o)),class:"toggle-btn"},n(e(u)?"Ocultar":"Mostrar"),1)]),e(i).password.$error?(a(),r("span",j,[(a(!0),r(k,null,f(e(i).password.$errors,o=>(a(),r("p",{key:o.$uid,class:"text-error"},n(o.$message),1))),128))])):l("",!0)]),e(h)?(a(),r("div",F,[t("p",U,[s[5]||(s[5]=p(" Cuenta bloqueada temporalmente. ")),s[6]||(s[6]=t("br",null,null,-1)),p(" Tiempo restante: "+n(e(b)),1)])])):l("",!0),t("div",W,[s[7]||(s[7]=t("div",{class:"recaptcha",id:"recaptcha"},null,-1)),e(w)?l("",!0):(a(),r("p",H,"Por favor, verifica que no eres un robot."))]),t("button",K,[e(_)?(a(),r("div",Y,s[8]||(s[8]=[A('<div class="sk-chase-dot"></div><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div>',6)]))):(a(),r("span",O,"Iniciar sesión"))]),t("span",G,[s[10]||(s[10]=p("¿Aún no tienes una cuenta? ")),S(y,{class:"text-link",to:{name:"registro"}},{default:T(()=>s[9]||(s[9]=[p("Registrate aquí")])),_:1})])],32)}}};export{ts as default};
